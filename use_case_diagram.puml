@startuml "Use Case Diagram - Приложение для доставки продуктов"

' Общие настройки
skinparam actorStyle awesome
skinparam packageStyle rectangle
skinparam usecaseBackgroundColor white
skinparam usecaseBorderColor black

' Настройки для более компактного представления
skinparam linetype ortho
left to right direction
skinparam nodesep 60
skinparam ranksep 40
scale 0.9

' Выравниваем акторов по вертикали
actor "Пользователь" as User
actor "Администратор" as Admin
User -[hidden]- Admin

rectangle "Приложение для доставки продуктов" {
  ' Разделение на две секции для более компактного вида
  together {
    ' Функции пользователя
    usecase "Просмотр каталога" as ViewCatalog
    usecase "Просмотр информации\nо товаре" as ViewProductDetails
    usecase "Добавление\nтовара в корзину" as AddToCart
    usecase "Оформление заказа" as Checkout
    usecase "Просмотр\nистории заказов" as ViewOrders
  }
  
  together {
    ' Общее
    usecase "Регистрация/\nАвторизация" as Auth
    
    ' Функции администратора
    usecase "Анализ\nпродаж" as GenerateReports
    usecase "Добавление\nтовара" as AddProduct
    usecase "Изменение\nтовара" as EditProduct
    usecase "Удаление\nтовара" as DeleteProduct
    usecase "Просмотр всех\nзаказов" as ViewAllOrders
    usecase "Изменение\nстатуса заказа" as EditOrderStatus
  }
}

' Горизонтальное выравнивание некоторых юз-кейсов для компактности
ViewCatalog -[hidden]-> Auth
ViewProductDetails -[hidden]-> ViewAllOrders

' Отношения пользователя
User -right-> ViewCatalog
User -right-> ViewProductDetails
User -right-> AddToCart
User -right-> Checkout
User -right-> ViewOrders
User -right-> Auth

' Отношения администратора
Admin -right-> Auth
Admin -right-> GenerateReports
Admin -right-> AddProduct
Admin -right-> EditProduct
Admin -right-> DeleteProduct
Admin -right-> ViewAllOrders
Admin -right-> EditOrderStatus
Admin -right-> ViewCatalog
Admin -right-> ViewProductDetails

' Включения и расширения
AddToCart .right.> Auth : <<include>>
Checkout .right.> Auth : <<include>>
ViewOrders .right.> Auth : <<include>>
ViewAllOrders .right.> Auth : <<include>>
EditOrderStatus .right.> ViewAllOrders : <<include>>
EditProduct .right.> ViewProductDetails : <<include>>
ViewAllOrders .right.> GenerateReports : <<extend>>

@enduml 